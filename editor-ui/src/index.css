/*
 * VCE Minimal Styles
 * Only layout + React Flow overrides
 * All component styling comes from beacon-mantine
 */

/* ===========================================
 * App Layout
 * =========================================== */

.vce-app {
  width: 100vw;
  height: 100vh;
  display: flex;
  flex-direction: column;
  background: var(--canvas-bg);
}

.vce-main {
  display: flex;
  flex: 1;
  min-height: 0;
}

.vce-canvas {
  flex: 1;
  position: relative;
}

/* ===========================================
 * Sidebar Layout
 * =========================================== */

.vce-sidebar {
  width: 280px;
  background: var(--bg-primary);
  border-right: 1px solid var(--border-primary);
  display: flex;
  flex-direction: column;
  overflow: hidden;
}

.vce-sidebar-tabs-container {
  flex-shrink: 0;
}

.vce-sidebar-content {
  flex: 1;
  overflow: hidden;
  display: flex;
  flex-direction: column;
  padding: var(--space-3);
}

/* Components Tab */
.vce-components-tab,
.vce-templates-tab {
  display: flex;
  flex-direction: column;
  height: 100%;
  gap: var(--space-3);
}

/* Draggable node items */
.vce-node-item {
  padding: var(--space-3);
  padding-left: calc(var(--space-3) + 3px);
  background: var(--bg-primary);
  border: 1px solid var(--border-primary);
  border-left: 3px solid var(--node-input-header);
  border-radius: 6px;
  cursor: grab;
  transition: all 0.15s ease;
}

.vce-node-item:hover {
  background: var(--bg-secondary);
  transform: translateY(-1px);
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.06);
}

.vce-node-item:active {
  cursor: grabbing;
  opacity: 0.7;
}

/* Node item category colors */
.vce-node-item[data-category="input"] { border-left-color: var(--node-input-header); }
.vce-node-item[data-category="condition"] { border-left-color: var(--node-condition-header); }
.vce-node-item[data-category="logic"] { border-left-color: var(--node-logic-header); }
.vce-node-item[data-category="action"] { border-left-color: var(--node-action-header); }
.vce-node-item[data-category="routing"] { border-left-color: var(--node-routing-header); }

/* Template cards */
.vce-template-card {
  padding: var(--space-3);
  background: var(--bg-primary);
  border: 1px solid var(--border-primary);
  border-radius: 6px;
  cursor: pointer;
  transition: all 0.15s ease;
}

.vce-template-card:hover {
  background: var(--bg-secondary);
  transform: translateY(-1px);
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.06);
}

/* Fastly Tab */
.vce-fastly-content {
  padding: var(--space-3);
  display: flex;
  flex-direction: column;
  height: 100%;
  overflow: auto;
  gap: var(--space-3);
}

/* ===========================================
 * React Flow Overrides
 * =========================================== */

.react-flow {
  background: var(--canvas-bg) !important;
}

.react-flow__background pattern circle {
  fill: var(--canvas-dots);
}

.react-flow__edge-path {
  stroke: var(--border-secondary);
  stroke-width: 2;
}

.react-flow__edge.selected .react-flow__edge-path,
.react-flow__edge:hover .react-flow__edge-path {
  stroke: var(--color-action);
}

/* ===========================================
 * Panels (Test & Deploy)
 * =========================================== */

.vce-panel-toggle {
  position: absolute;
  bottom: var(--space-3);
  z-index: 10;
}

.vce-panel-toggle--test {
  left: var(--space-3);
}

.vce-panel-toggle--deploy {
  right: var(--space-3);
}

.vce-panel {
  position: absolute;
  bottom: var(--space-3);
  width: 350px;
  background: var(--bg-primary);
  border: 1px solid var(--border-primary);
  border-radius: 8px;
  box-shadow: var(--shadow-lg);
  z-index: 10;
}

.vce-panel--test {
  left: var(--space-3);
}

.vce-panel--deploy {
  right: var(--space-3);
  width: 380px;
  max-height: calc(100vh - 80px);
  overflow: auto;
}

/* ===========================================
 * Empty Canvas State
 * =========================================== */

.vce-empty-canvas {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  text-align: center;
  padding: var(--space-8);
  max-width: 480px;
  pointer-events: none;
  z-index: 5;
}

/* ===========================================
 * Edge Delete Button
 * =========================================== */

.vce-edge-delete-btn {
  background: var(--bg-secondary) !important;
  border: 1px solid var(--border-primary) !important;
}

.vce-edge-delete-btn:hover {
  background: var(--color-error) !important;
  border-color: var(--color-error) !important;
  color: white !important;
}

/* ===========================================
 * Utility Classes
 * =========================================== */

.vce-text-muted {
  color: var(--text-disabled);
}
